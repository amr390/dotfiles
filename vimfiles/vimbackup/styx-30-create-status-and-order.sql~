CREATE TABLE STATUS(
    ID                      NUMBER(20,0) NOT NULL,
    START_DATE              DATE,
    END_DATE                DATE,
    STATUS_CODE_ID          NUMBER(20,0) NOT NULL,
    AREA_ID                 NUMBER(20,0) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL

) TABLESPACE STYX_TABLES; 

CREATE SEQUENCE SEQ_STATUS;

-- primary key
ALTER TABLE STATUS ADD CONSTRAINT PK_STATUS PRMERY_KEY(ID)
USING INDEX TABLESPACE STYX_INDEXES 

-- foreign keys
ALTER TABLE STATUS ADD CONSTRAINT FK_STATUS_STATUS_CODE FOREIGN KEY(STATUS_CODE_ID)
REFERENCES STATUS_CODE(ID);

ALTER TABLE STATUS ADD CONSTRAINT FK_STATUS_AREA FOREIGN KEY(AREA_ID)
REFERENCES AREA(ID);


CREATE TABLE STATUS_TYPE(
    ID                      NUMBER(20,0) NOT NULL,
    CODE                    VARCHAR2(80) NOT NULL,
    AREA_TYPE_ID            NUMBER(20,0) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL

) TABLESPACE STYX_TABLES;

CREATE SEQUENCE SEQ_STATUS_TYPE;

--primary key
ALTER TABLE STATUS_TYPE ADD CONSTRAINT PK_STATUS_TYPE PRMERY_KEY(ID)
USING INDEX TABLESPACE STYX_INDEXES 
--foreign key
ALTER TABLE STATUS_TYPE ADD CONSTRAINT FK_STATUS_TYPE_AREA_TYPE FOREIGN KEY(AREA_TYPE_ID)
REFERENCES AREA_TYPE(ID);



CREATE TABLE STATUS_CODE(
    ID                      NUMBER(20,0) NOT NULL,
    CODE                    VARCHAR2(80) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL

) TABLESPACE STYX_TABLES; 

CREATE SEQUENCE SEQ_STATUS_CODE;
ALTER TABLE STATUS_CODE ADD CONSTRAINT PK_STATUS PRMERY_KEY(ID)
USING INDEX TABLESPACE STYX_INDEXES 



ALTER TABLE PART_OF_CITY ADD CONSTRAINT FK_PART_OF_CITY_CITY FOREIGN KEY(CITY_ID)
REFERENCES CITY(ID);

ALTER TABLE PART_OF_CITY ADD CONSTRAINT FK_PART_OF_CITY_STREET FOREIGN KEY(STREET_ID)
REFERENCES STREET(ID);
