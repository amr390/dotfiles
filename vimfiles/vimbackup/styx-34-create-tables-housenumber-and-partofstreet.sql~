CREATE TABLE HOUSE_NUMBER(
    ID                      NUMBER(20,0) NOT NULL,
    HOUSE_NUMBER            VARCHAR2(80) NOT NULL
   ) TABLESPACE STYX_TABLES; 

-- primary key
ALTER TABLE HOUSE_NUMBER ADD CONSTRAINT PK_HOUSE_NUMBER_ID PRIMARY KEY (ID)
USING INDEX TABLESPACE STYX_INDEXES;

ALTER TABLE HOUSE_NUMBER ADD CONSTRAINT FK_HOUSE_NUMBER_AREA FOREIGN KEY (ID)
REFERENCES AREA (ID);

CREATE TABLE PART_OF_STREET(
    ID                      NUMBER(20,0) NOT NULL,
    STREET_ID               NUMBER(20,0) NOT NULL,
    HOUSE_NUMBER_ID         NUMBER(20,0) NOT NULL,
    START_DATE              DATE,
    END_DATE                DATE,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL,
    CREATION_DATE_SOURCE TIMESTAMP NULL, 
    CREATION_USER_SOURCE VARCHAR2(255) NULL
) TABLESPACE STYX_TABLES; 

CREATE SEQUENCE SEQ_PART_OF_STREET;

-- primary key
ALTER TABLE PART_OF_STREET ADD CONSTRAINT PK_PART_OF_STREET_ID PRIMARY KEY (ID)
USING INDEX TABLESPACE STYX_INDEXES;

ALTER TABLE PART_OF_STREET ADD CONSTRAINT FK_POS_STREET FOREIGN KEY(STREET_ID)
REFERENCES AREA(ID);

ALTER TABLE PART_OF_STREET ADD CONSTRAINT FK_POS_HOUSENR FOREIGN KEY(HOUSE_NUMBER_ID)
REFERENCES AREA(ID);

ALTER TABLE PART_OF_STREET ADD CONSTRAINT UQ_STREET_HOUSENR UNIQUE (STREET_ID, HOUSE_NUMBER_ID) USING INDEX TABLESPACE STYX_INDEXES;
