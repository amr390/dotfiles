CREATE TABLE POSTAL_CODE(
    ID                      NUMBER(20,0) NOT NULL,
    POSTAL_CODE            VARCHAR2(80) NOT NULL
   ) TABLESPACE STYX_TABLES; 

-- primary key
ALTER TABLE POSTAL_CODE ADD CONSTRAINT PK_POSTAL_CODE_ID PRIMARY KEY (ID)
USING INDEX TABLESPACE STYX_INDEXES;

ALTER TABLE POSTAL_CODE ADD CONSTRAINT FK_POSTAL_CODE_AREA FOREIGN KEY (ID)
REFERENCES AREA (ID);

CREATE TABLE PART_OF_POSTALCODE(
    ID                      NUMBER(20,0) NOT NULL,
    HOUSE_NUMBER_ID         NUMBER(20,0) NOT NULL,
    POSTAL_CODE_ID          NUMBER(20,0) NOT NULL,
    START_DATE              DATE,
    END_DATE                DATE,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL,
    CREATION_DATE_SOURCE TIMESTAMP NULL, 
    CREATION_USER_SOURCE VARCHAR2(255) NULL
) TABLESPACE STYX_TABLES; 

CREATE SEQUENCE SEQ_PART_OF_POSTALCODE; 

-- primary key
ALTER TABLE PART_OF_POSTALCODE ADD CONSTRAINT PK_PART_OF_POSTAL_CODE_ID PRIMARY KEY (ID)
USING INDEX TABLESPACE STYX_INDEXES;

ALTER TABLE PART_OF_POSTALCODE ADD CONSTRAINT FK_POPCODE_PCODE FOREIGN KEY(POSTAL_CODE_ID)
REFERENCES AREA(ID);

ALTER TABLE PART_OF_POSTALCODE ADD CONSTRAINT FK_POPCODE_HOUSENR FOREIGN KEY(HOUSE_NUMBER_ID)
REFERENCES AREA(ID);
