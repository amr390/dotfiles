<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" default-activation="lazy"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd">
	
	<reference id="dataSource" interface="javax.sql.DataSource" filter="(cipalcommon.datasource=default)" />
	<reference id="jtaTransactionManager" interface="org.springframework.transaction.PlatformTransactionManager" filter="(cipalcommon.transactionmanager=default)" availability="mandatory" />
    <reference id="claimFacade" interface="be.cipal.csf.claim.domain.api.ClaimFacade" availability="optional" />
    <reference id="claimService" interface="be.vlaanderen.fb.vfp.claim.getclaims.v2.Claims" availability="optional" />
	<reference id="instalmentPlanFacade" interface="be.cipal.csf.claim.domain.api.InstalmentPlanFacade" availability="optional" />
	<reference id="kostFacade" interface="be.cipal.csf.claim.domain.api.KostFacade" availability="optional" />
	<reference id="reactionFacade" interface="be.cipal.csf.claim.domain.api.ReactionFacade" availability="optional" />
	<reference id="functionalLoggingFacade" interface="be.cipal.csf.functionallogging.domain.api.FunctionalLoggingFacade" availability="mandatory"/>
    <reference id="configurationLoggingFacade" interface="be.cipal.csf.configuration.logging.domain.api.ConfigurationLoggingFacade" availability="mandatory"/>
	<reference id="userFacade" interface="be.cipal.common.user.domain.api.UserFacade" availability="optional"/>
	<reference id="securityFacade" interface="be.cipal.common.security.api.SecurityFacade" availability="optional"/>
	<reference id="financialLoggingFacade" interface="be.cipal.csf.financial.logging.domain.api.FinancialLoggingFacade" availability="mandatory"/>
	<reference id="bookingFacade" interface="be.cipal.csf.financial.logging.domain.api.BookingFacade" availability="mandatory"/>
	<reference id="journalFacade" interface="be.cipal.csf.financial.logging.domain.api.JournalFacade" availability="mandatory"/>
    <reference id="deurwaarderFacade" interface="be.cipal.csf.claim.domain.api.DeurwaarderFacade" availability="optional"/>
	<reference id="negligenceInterestFacade" interface="be.cipal.csf.claim.domain.api.NegligenceInterestFacade" availability="optional" />
    <reference id="partyFacade" interface="be.cipal.csf.party.domain.api.PartyFacade" availability="optional"/>
    <reference id="addressFacade" interface="be.cipal.csf.party.domain.api.AddressFacade" availability="optional"/>
    <reference id="taxedElementFacade" interface="be.cipal.csf.claim.domain.api.TaxedElementFacade" availability="optional"/>
    <reference id="blokkeringFacade" interface="be.cipal.csf.blockade.domain.api.BlokkeringFacade" availability="optional"/>
    <reference id="lifeCycleFacade" interface="be.cipal.csf.lifecycle.domain.api.LifeCycleFacade" availability="optional"/>

    <service interface="be.cipal.csf.finance.domain.api.ClientTypeFacade" ref="clientTypeFacade" />
    <service interface="be.cipal.csf.finance.domain.api.BetalingenReeksFacade" ref="betalingenReeksFacade" />
	<service interface="be.cipal.csf.finance.domain.api.VerrichtingFacade" ref="verrichtingFacade" />
	<service interface="be.cipal.csf.finance.domain.api.RekeningFacade" ref="rekeningFacade" />
	<service interface="be.cipal.csf.finance.domain.api.BetalingFacade" ref="betalingFacade" />
    <service interface="be.cipal.csf.finance.domain.api.restitution.AssignedCreditFacade" ref="assignedCreditFacade" />
	<service interface="be.cipal.csf.finance.domain.api.restitution.RestitutionFacade" ref="restitutionFacade" />
    <service interface="be.cipal.csf.finance.domain.api.restitution.MoratoriumIntrestRateFacade" ref="moratoriumIntrestRateFacade" />

    <service interface="be.cipal.csf.finance.domain.api.SynchronizationFacade" ref="synchronizationFacade"/>
    <service interface="be.cipal.csf.finance.domain.api.restitution.AssignedCreditFacade" ref="assignedCreditFacade"/>
    <service interface="be.cipal.csf.finance.domain.api.ReserveringFacade" ref="reserveringFacade" />

    <reference-list id="repaymentEventHandlerList" interface="be.cipal.csf.finance.domain.api.event.RepaymentEventHandler" availability="optional" />

    <reference-list id="holdfileCreateCaseEventListeners" interface="be.cipal.csf.finance.domain.api.event.HoldfileCreateCaseEventListener" availability="optional" activation="eager">
        <reference-listener ref="holdfileEventNotifier" bind-method="addCreateCaseListener" unbind-method="removeCreateCaseListener"/>
    </reference-list>

    <reference-list id="holdfileCreatedEventListeners" interface="be.cipal.csf.finance.domain.api.event.HoldfileCreatedEventListener" availability="optional" activation="eager">
        <reference-listener ref="holdfileEventNotifier" bind-method="addCreatedListener" unbind-method="removeCreatedListener"/>
    </reference-list>

    <reference-list id="holdfileUpdatedEventListeners" interface="be.cipal.csf.finance.domain.api.event.HoldfileUpdatedEventListener" availability="optional" activation="eager">
        <reference-listener ref="holdfileEventNotifier" bind-method="addUpdatedListener" unbind-method="removeUpdatedListener"/>
    </reference-list>

    <reference-list id="holdfileDeletedEventListeners" interface="be.cipal.csf.finance.domain.api.event.HoldfileDeletedEventListener" availability="optional" activation="eager">
        <reference-listener ref="holdfileEventNotifier" bind-method="addDeletedListener" unbind-method="removeDeletedListener"/>
    </reference-list>

    <reference-list id="paymentEventListeners" interface="be.cipal.csf.finance.domain.api.event.SendPaymentEventListener" availability="optional" activation="eager">
        <reference-listener ref="paymentEventNotifier" bind-method="addPaymentEventListener" unbind-method="removePaymentEventListener"/>
    </reference-list>



</blueprint>
