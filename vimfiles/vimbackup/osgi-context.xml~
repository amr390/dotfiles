<?xml version="1.0" encoding="UTF-8"?>
<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0" default-activation="eager"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd">
           
    <!-- Register the job definitions to OSGi, so that the batch manager is able to recognize it. -->
    <service ref="styx-crab-ready-job" interface="org.springframework.batch.core.Job"/>
    <!-- Register the job-definition -->
    <service ref="scr-JobDefinition" interface="be.cipal.csf.common.batch.api.JobDefinition"/>

	<reference id="transactionManager"
		interface="org.springframework.transaction.PlatformTransactionManager"
		filter="(cipalcommon.transactionmanager=default)" availability="mandatory" />
   
    <reference id="jobRepository" interface="org.springframework.batch.core.repository.JobRepository" />

    <reference id="jobExplorer" interface="org.springframework.batch.core.explore.JobExplorer"/>

    <reference id="partitionerFactory" interface="be.cipal.common.batch.api.PartitionerFactory"/>

    <reference id="jobParameterFactory" interface="be.cipal.csf.common.batch.api.JobParameterFactory" />

    <reference id="jobDefinitionFactory" interface="be.cipal.csf.common.batch.api.JobDefinitionFactory" />

    <reference id="jobDataLoggerFactory" interface="be.cipal.csf.common.batch.api.JobDataLoggerFactory" />

    <reference id="jobParameterValidatorFactory" interface="be.cipal.csf.common.batch.api.JobParameterValidatorFactory" />

    <reference id="stepExecutionListenerFactory" interface="be.cipal.csf.common.batch.api.StepExecutionListenerFactory"/>

    <reference id="taskletFactory" interface="be.cipal.csf.common.batch.api.TaskletFactory"/>
</blueprint>
