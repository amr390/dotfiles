CREATE TABLE ATTRIBUTE
  (
    ID          NUMBER(20,0) NOT NULL,
    DT_ADD      TIMESTAMP NOT NULL,
    DT_UPDATE   TIMESTAMP NOT NULL,
    END_DATE    TIMESTAMP NULL,
    START_DATE  TIMESTAMP NULL,
    USER_ADD    VARCHAR2(255) NOT NULL,
    USER_UPDATE VARCHAR2(255) NOT NULL,
    VALUE       VARCHAR (255) NOT NULL,
    VERSION     NUMBER(20,0) NULL,
    AREA_ID     NUMBER(20,0) NULL,
    TYPE_ID     NUMBER(20,0) NOT NULL
  ) TABLESPACE STYX_TABLES;

ALTER TABLE ATTRIBUTE ADD CONSTRAINT PK_ATTRIBUTE PRIMARY KEY (ID) USING INDEX TABLESPACE STYX_INDEXES; 

CREATE TABLE ATTRIBUTE_TYPE
  (
    ID           NUMBER(20,0) NOT NULL,
    CODE         VARCHAR2(255) NULL,
    UNIQUE_VALUE NUMBER(1) DEFAULT 0 NULL,
    VALUE_MASK   VARCHAR2(255) NULL,
    REQUIRED     NUMBER(1) DEFAULT 0 NULL,
    MIN_CARDINALITY NUMBER(2) DEFAULT 0,
    MAX_CARDINALITY NUMBER(2) DEFAULT 0,
    DT_ADD       TIMESTAMP NOT NULL,
    DT_UPDATE    TIMESTAMP NOT NULL,
    USER_ADD     VARCHAR2(255) NOT NULL,
    USER_UPDATE  VARCHAR2(255) NOT NULL,
    VERSION      NUMBER(20,0) NULL,
    CREATION_DATE_SOURCE TIMESTAMP NULL, 
    CREATION_USER_SOURCE VARCHAR2(255) NULL
  ) TABLESPACE STYX_TABLES;

ALTER TABLE ATTRIBUTE_TYPE ADD CONSTRAINT PK_ATTR_TYPE PRIMARY KEY (ID) USING INDEX TABLESPACE STYX_INDEXES; 
ALTER TABLE ATTRIBUTE_TYPE ADD CONSTRAINT UQ_ATTR_TYPE_CODE UNIQUE(CODE) USING INDEX TABLESPACE STYX_INDEXES;

CREATE TABLE ATYPE_ATTYPE(
    ATTRIBUTE_TYPE_ID   NUMBER (20,0) NOT NULL,
    AREA_TYPE_ID        NUMBER (20,0) NOT NULL
) TABLESPACE STYX_TABLES;

-- primary key
ALTER TABLE ATYPE_ATTYPE ADD CONSTRAINT PK_ATYPE_ATTYPE PRIMARY KEY(AREA_TYPE_ID, ATTRIBUTE_TYPE_ID)
USING INDEX TABLESPACE STYX_INDEXES; 
-- foreign keys
ALTER TABLE ATYPE_ATTYPE ADD CONSTRAINT FK_ART_ATT_ATTRIBUTE_TYPE FOREIGN KEY (ATTRIBUTE_TYPE_ID) REFERENCES ATTRIBUTE_TYPE(ID);
ALTER TABLE ATYPE_ATTYPE ADD CONSTRAINT FK_ART_ATT_AREA_TYPE FOREIGN KEY (AREA_TYPE_ID) REFERENCES AREA_TYPE(ID);

ALTER TABLE AREA ADD (FUNCTIONAL_ID VARCHAR2(255) NOT NULL, creation_date_source timestamp null, creation_user_source varchar2(255) null);
ALTER TABLE AREA ADD CONSTRAINT UQ_AREA_FNAL_ID UNIQUE(FUNCTIONAL_ID) USING INDEX TABLESPACE STYX_INDEXES;

CREATE TABLE COUNTRY
  (
    ID                 NUMBER(20,0) NOT NULL,
    ISO31661NUMCODE    NUMBER(10) NULL,
    ISO31661ALPHA2CODE VARCHAR2(255) NULL,
    ISO31661ALPHA3CODE VARCHAR2(255) NULL,
  ) TABLESPACE STYX_TABLES;

ALTER TABLE COUNTRY ADD CONSTRAINT PK_COUNTRY PRIMARY KEY (ID) USING INDEX TABLESPACE STYX_INDEXES; 
ALTER TABLE COUNTRY ADD CONSTRAINT FK_COUNTRY_AREA_ID FOREIGN KEY (ID) REFERENCES AREA(ID);

CREATE TABLE PART_OF_COUNTRY
  (
    ID          NUMBER(20,0) NOT NULL,
    DT_ADD      TIMESTAMP NOT NULL,
    DT_UPDATE   TIMESTAMP NOT NULL,
    END_DATE    DATE NULL,
    START_DATE  DATE NULL,
    USER_ADD    VARCHAR2(255) NOT NULL,
    USER_UPDATE VARCHAR2(255) NOT NULL,
    VERSION     NUMBER(19) NULL,
    CITY_ID     NUMBER(19) NULL,
    COUNTRY_ID  NUMBER(19) NOT NULL,
  )
  TABLESPACE STYX_TABLES;
ALTER TABLE PART_OF_COUNTRY ADD CONSTRAINT PK_PART_OF_COUNTRY PRIMARY KEY (ID) USING INDEX TABLESPACE STYX_INDEXES; 

CREATE TABLE POSITION
  (
    ID          NUMBER(20,0) NOT NULL,
    CENTERX     NUMBER(38) NULL,
    CENTERY     NUMBER(38) NULL,
    DT_ADD      TIMESTAMP NOT NULL,
    DT_UPDATE   TIMESTAMP NOT NULL,
    MAXIMUMX    NUMBER(38) NULL,
    MAXIMUMY    NUMBER(38) NULL,
    MINIMUMX    NUMBER(38) NULL,
    MINIMUMY    NUMBER(38) NULL,
    USER_ADD    VARCHAR2(255) NOT NULL,
    USER_UPDATE VARCHAR2(255) NOT NULL,
    VERSION     NUMBER(19) NULL,
    AREA_ID     NUMBER(19) NULL,
  )
  TABLESPACE STYX_TABLES;
ALTER TABLE POSITION ADD CONSTRAINT PK_POSITION PRIMARY KEY (ID) USING INDEX TABLESPACE STYX_INDEXES; 


ALTER TABLE ATTRIBUTE ADD CONSTRAINT FK_ATTRIBUTE_AREA_ID FOREIGN KEY (AREA_ID) REFERENCES AREA (ID);
ALTER TABLE ATTRIBUTE ADD CONSTRAINT FK_ATTRIBUTE_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES ATTRIBUTE_TYPE (ID);
ALTER TABLE PART_OF_COUNTRY ADD CONSTRAINT FK_PART_OF_COUNTRY_COUNTRY_ID FOREIGN KEY (COUNTRY_ID) REFERENCES COUNTRY (ID);
ALTER TABLE PART_OF_COUNTRY ADD CONSTRAINT FK_PART_OF_COUNTRY_CITY_ID FOREIGN KEY (CITY_ID) REFERENCES CITY (ID);
ALTER TABLE POSITION ADD CONSTRAINT FK_POSITION_AREA_ID FOREIGN KEY (AREA_ID) REFERENCES AREA (ID);
CREATE SEQUENCE SEQ_POSITION INCREMENT BY 50 START WITH 50;
CREATE SEQUENCE SEQ_PART_OF_COUNTRY INCREMENT BY 50 START WITH 50;
CREATE SEQUENCE SEQ_ATTRIBUTE INCREMENT BY 50 START WITH 50;
CREATE SEQUENCE SEQ_ATTRIBUTETYPE INCREMENT BY 50 START WITH 50;
