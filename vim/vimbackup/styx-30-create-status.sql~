CREATE TABLE STATUS_TYPE(
    ID                      NUMBER(20,0) NOT NULL,
    CODE                    VARCHAR2(80) NOT NULL,
    AREA_TYPE_ID            NUMBER(20,0) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL,
    CREATION_DATE_SOURCE    TIMESTAMP NULL, 
    CREATION_USER_SOURCE    VARCHAR2(255) NULL
) TABLESPACE STYX_TABLES;

CREATE SEQUENCE SEQ_STATUS_TYPE;

--primary key
ALTER TABLE STATUS_TYPE ADD CONSTRAINT PK_STATUS_TYPE PRIMARY KEY(ID)
USING INDEX TABLESPACE STYX_INDEXES;
--foreign key
ALTER TABLE STATUS_TYPE ADD CONSTRAINT FK_STATUS_TYPE_AREA_TYPE FOREIGN KEY(AREA_TYPE_ID)
REFERENCES AREA_TYPE(ID);

CREATE TABLE STATUS_CODE(
    ID                      NUMBER(20,0) NOT NULL,
    CODE_PROVIDER           NUMBER(20,0) NOT NULL,
    STATUS_TYPE_ID          NUMBER(20,0) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL,
    CREATION_DATE_SOURCE    TIMESTAMP NULL, 
    CREATION_USER_SOURCE    VARCHAR2(255) NULL
) TABLESPACE STYX_TABLES; 

CREATE SEQUENCE SEQ_STATUS_CODE;
-- primary key
ALTER TABLE STATUS_CODE ADD CONSTRAINT PK_STATUS_CODE PRIMARY KEY(ID)
USING INDEX TABLESPACE STYX_INDEXES;
-- foreign key
ALTER TABLE STATUS_CODE ADD CONSTRAINT FK_STATUS_CODE_STATUS_TPYE FOREIGN KEY (STATUS_TYPE_ID)
REFERENCES STATUS_TYPE(ID);

ALTER TABLE STATUS_CODE ADD CONSTRAINT FK_STATUS_CODE_MULTIL_PROVIDER FOREIGN KEY (CODE_PROVIDER)
REFERENCES MULTILANGUAGE_PROVIDER(ID);

CREATE TABLE STATUS(
    ID                      NUMBER(20,0) NOT NULL,
    START_DATE              DATE,
    END_DATE                DATE,
    STATUS_CODE_ID          NUMBER(20,0) NOT NULL,
    AREA_ID                 NUMBER(20,0) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL,
    CREATION_DATE_SOURCE    TIMESTAMP NULL, 
    CREATION_USER_SOURCE    VARCHAR2(255) NULL
) TABLESPACE STYX_TABLES; 

CREATE SEQUENCE SEQ_STATUS;

-- primary key
ALTER TABLE STATUS ADD CONSTRAINT PK_STATUS PRIMARY KEY(ID)
USING INDEX TABLESPACE STYX_INDEXES; 

-- foreign keys
ALTER TABLE STATUS ADD CONSTRAINT FK_STATUS_STATUS_CODE FOREIGN KEY(STATUS_CODE_ID)
REFERENCES STATUS_CODE(ID);

ALTER TABLE STATUS ADD CONSTRAINT FK_STATUS_AREA FOREIGN KEY(AREA_ID)
REFERENCES AREA(ID);

CREATE TABLE SOURCE(
    ID                      NUMBER(20,0) NOT NULL,
    CODE                    VARCHAR2(80) NOT NULL,
    VERSION                 NUMBER(20,0) DEFAULT 0 NOT NULL,
    USER_ADD	            VARCHAR2(255) NOT NULL,
    DT_ADD                  DATE NOT NULL,
    USER_UPDATE             VARCHAR2(255) NOT NULL,
    DT_UPDATE               DATE NOT NULL,
    CREATION_DATE_SOURCE    TIMESTAMP NULL, 
    CREATION_USER_SOURCE    VARCHAR2(255) NULL
) TABLESPACE STYX_TABLES; 

